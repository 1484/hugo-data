+++
date = "2007-01-22T08:06:32+09:00"
draft = false
title = "iCalをリセットしたい"
categories = ["computer"]
slug = "128"
+++

愛用しているスケジューラiCal<a rel="lightbox" href="/images/2007/01/ical.jpg"><img width="96" height="70" border="0" alt="ical" title="ical" src="/images/2007/01/ical.jpg" /></a>、個人で使ってる分には十分だけれど、もうちょっとグループウェア的にも使いたい！と色々あやしいデータやエントリーを追加している内にデータが破損してしまったみたい。起動して数秒後に勝手に落ちてしまう。これはたまらん、と思って仕方ないのでデータを削除してやり直すことにした。実際iCalに生で入っているデータは無く、google calendarのビューアとして利用している現状なので、ごっそり削除しても問題ない。と言う点は楽でいいな。

さて、削除したのはこちら。
<ul>
	<li><em> ~/Library/Caches/Metadata/iCal/*</em></li>
	<li><em>~/Library/Application Support/iCal/*</em></li>
	<li><em>~/Library/Preferences/com.apple.iCal.*</em></li>
</ul>
さて、削除もしたし起動起動。と思ったらまた同じ現象が発生。あれーと思い削除しなおしている時にふと、Spotlightで不思議なデータが検索にひっかかった。削除した筈のスケジュールデータが入っているのだ。そして、それらは上記フォルダを削除したら一緒に消えた。つまり上記フォルダ内に格納されているデータで間違いない。削除した筈なのに復活してくる、、、つまりはどこか別の所にデータがあり、そのデータが復元されている訳だ。

それが判れば簡単。それらデータが格納されている別の場所を探せばよい。その結果以下にデータがある事がわかった。
<ul>
	<li><em> ~/Library/Sync Services/</em></li>
</ul>
この領域にどうもアーカイブされている様で、ここからデータが復元されているらしい。とりあえず試しにこのデータを別の場所にアーカイブ後削除した所iCalは無事に立ち上がった。その後ここの領域を見た所またファイルが作成されているので、.mac とのsync等が正常に終了したら復元されるだろう。

ここのデータ、iCalやらその他アプリのデータとの差分データ、いわばLotusNotesのLocalDBみたいな感じの物なんだろうけれども、これだけの仕組みがしっかりしているのであれば、グループウェアがそこそこ苦労なく作れないだろうか、、、と思ってしまった。
